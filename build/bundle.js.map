{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://server/./src/application/common/utils/access.js","webpack://server/./src/application/config/sockets.js","webpack://server/./src/application/config/swagger.js","webpack://server/./src/application/database/index.js","webpack://server/./src/application/documentation/index.js","webpack://server/./src/application/middlewares/error-handler.js","webpack://server/./src/application/middlewares/index.js","webpack://server/./src/application/middlewares/restricted-access.js","webpack://server/./src/application/middlewares/with-headers.js","webpack://server/./src/application/middlewares/with-sockets.js","webpack://server/./src/application/repository/generic-model.js","webpack://server/./src/entities/auth/adapters/http/index.js","webpack://server/./src/entities/auth/auth0/api.js","webpack://server/./src/entities/auth/auth0/index.js","webpack://server/./src/entities/auth/auth0/secret.js","webpack://server/./src/entities/auth/controller/index.js","webpack://server/./src/entities/auth/service/index.js","webpack://server/./src/entities/index.js","webpack://server/./src/entities/user/adapters/http/index.js","webpack://server/./src/entities/user/adapters/socket/index.js","webpack://server/./src/entities/user/controller/index.js","webpack://server/./src/entities/user/model/index.js","webpack://server/./src/entities/user/model/schema.js","webpack://server/external commonjs \"@babel/runtime/helpers/asyncToGenerator\"","webpack://server/external commonjs \"@babel/runtime/helpers/defineProperty\"","webpack://server/external commonjs \"@babel/runtime/helpers/slicedToArray\"","webpack://server/external commonjs \"@babel/runtime/regenerator\"","webpack://server/external commonjs \"auth0\"","webpack://server/external commonjs \"cors\"","webpack://server/external commonjs \"express\"","webpack://server/external commonjs \"jsonwebtoken\"","webpack://server/external commonjs \"jwks-rsa\"","webpack://server/external commonjs \"sequelize\"","webpack://server/external commonjs \"socket.io\"","webpack://server/external commonjs \"swagger-jsdoc\"","webpack://server/external commonjs \"swagger-ui-express\"","webpack://server/external node-commonjs \"http\"","webpack://server/webpack/bootstrap","webpack://server/webpack/runtime/compat get default export","webpack://server/webpack/runtime/define property getters","webpack://server/webpack/runtime/hasOwnProperty shorthand","webpack://server/webpack/runtime/make namespace object","webpack://server/./src/index.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\n\nconst secret = 'secret';\n\nexport const decodeToken = jwt.decode;\n\nexport const createToken = data => jwt.sign(data, secret);\n\nexport const verifyToken = (token, callback) => jwt.verify(token, secret, callback);","\r\nexport const config = {\r\n    cors: {\r\n        origin: \"http://localhost:8080\",\r\n        methods: [\"GET\", \"POST\"],\r\n        credentials: true\r\n    },\r\n    allowEIO3: true\r\n};","export const swaggerConfig = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: 'Test API',\n      version: '1.0.0',\n    },\n    components: {\n      securitySchemes: {\n        ApiKeyAuth: {\n          type: 'apiKey',\n          name: 'x-access-token',\n          in: 'header',\n        },\n      },\n    },\n    security: [\n      { ApiKeyAuth: [] },\n    ],\n    securityDefinitions: {\n      basicAuth: {\n        type: 'basic'\n      },\n    },\n  },\n  // Path to the API docs\n  apis: ['./src/entities/**/*.js', './src/entities/**/*.yml'],\n};\n\n","import {Sequelize, DataTypes} from 'sequelize';\r\n\r\nconst database = process.env.DB_NAME;\r\nconst user = process.env.DB_USER;\r\nconst password = process.env.DB_PASSWORD;\r\nconst host = process.env.DB_HOST;\r\nconst forceCleanDatabase = process.env.DB_FORCE_CLEAN === 'true';\r\n\r\nexport const db = new Sequelize(database, user, password, {\r\n    host,\r\n    dialect: 'mysql',\r\n});\r\n\r\nexport {DataTypes};\r\n\r\nexport const setAssociations = (db) => {\r\n    Object.keys(db.models).forEach((modelName) => {\r\n        if ('associate' in db.models[modelName]) {\r\n            db.models[modelName].associate(db.models);\r\n        }\r\n    });\r\n};\r\n\r\nexport default async (onConnect) => {\r\n    try {\r\n        await setAssociations(db);\r\n        await db.authenticate();\r\n        db.sync({force: forceCleanDatabase});\r\n        onConnect();\r\n        console.log('Database connection OK!');\r\n    } catch (error) {\r\n        console.log('Unable to connect to the database:');\r\n    }\r\n}","import swaggerJSDoc from \"swagger-jsdoc\";\nimport swaggerUi from \"swagger-ui-express\";\nimport { swaggerConfig } from \"../config/swagger\";\n\nconst Documentation = (app) => {\n  // JSON of specs\n  const swaggerSpec = swaggerJSDoc(swaggerConfig);\n\n  // Api entrypoint\n  app.use(\"/docs\", swaggerUi.serve, swaggerUi.setup(swaggerSpec));\n};\n\nexport default Documentation;\n","/*Tenemos una función que recibe como parámetro la función de cada controlador,\nla ejecuta (resolve)\ny si  hay algún error, lo mostrará por consola y lanzará un 500\n*/\n\nexport const asyncHandler = controller => (req, res, next) => Promise\n  .resolve(controller(req, res, next))\n  .catch((err) => {\n    console.error('Request error:' + err.toString());\n    if (err) return res.sendStatus(500).send();\n});\n \nexport const socketHandler = controller => msg => Promise\n  .resolve(controller(msg))\n  .catch((err) => {\n    console.error('Socket error:' + err);\n});","import express from 'express';\nimport cors from 'cors';\nimport withSockets from './with-sockets';\nimport withHeaders from './with-headers';\n\nconst Middlewares = (app, io) => {\n    app.use(express.urlencoded({extended: true}));\n    app.use(express.json());\n    app.use(withSockets(io));\n    app.use(cors()) // Use this after the variable declaration\n    app.use(withHeaders());\n};\n\nexport default Middlewares;","import { verifyToken } from '@Application/common/utils/access';\nexport const getHeader = (req, header) => req.headers[header];\n\nexport default (req, res, next) => {\n  const token = getHeader(req, 'x-access-token');\n\n  if (!token) {\n    return res.status(400).send('No token provided.');\n  }\n  return verifyToken(token, (err, { id } = {}) => {\n    if (err) {\n      return res.status(401).send('Failed to authenticate token.');\n    }\n\n    if (!id) {\n      return res.status(403).send('Wrong credentials');\n    }\n    req.userId = id;\n    return next();\n  });\n}","const withHeaders = () => (req, res, next) => {\r\n    res.header('Access-Control-Allow-Origin', '*');\r\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\n    res.header('Access-Control-Allow-Credentials', true);\r\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\r\n\r\n    if (req.method === 'OPTIONS') {\r\n        res.end();\r\n    } else {\r\n        next();\r\n    }\r\n};\r\n\r\nexport default withHeaders;\r\n","const withSockets = io => (req, res, next) => {\r\n    req.io = io;\r\n    return next();\r\n};\r\n\r\nexport default withSockets;\r\n","\r\nconst GenericModel = Model => ({\r\n    create(data) {\r\n        return Model.create(data);\r\n    },\r\n    get(conditions) {\r\n        return Model.findAll(conditions ? {where:conditions} : {});\r\n    },\r\n    getById(id) {\r\n        return Model.findOne({ where: { id } });\r\n    },\r\n    updateById(id, data) {\r\n        return Model.update(data, { where: { id } });\r\n    },\r\n    deleteById(id) {\r\n        return Model.destroy({ where: { id } });\r\n    },\r\n    findOrCreate(condition, newObj){\r\n        return Model.findOrCreate({where:condition, defaults: newObj});\r\n    }\r\n});\r\n\r\nexport default GenericModel;\r\n","import express from 'express';\r\nimport Controller from \"../../controller\";\r\nimport {asyncHandler} from \"@Middlwares/error-handler\";\r\n// Para operaciones con acceso restringido, introduciremos un segundo parámetro que será la variable restrictedAccess\r\nimport restrictedAccess from \"@Middlwares/restricted-access\";\r\n\r\nconst router = express.Router();\r\n\r\n// GET ALL\r\nrouter.post('/login', asyncHandler(async (req, res) => {\r\n\r\n    const data = await Controller.login(req.body.token);\r\n    console.log(data);\r\n    res.send(data);\r\n}));\r\n\r\n\r\nexport default app => app.use('/auth', router);","import auth0 from 'auth0';\r\n\r\nconst config = {\r\n    domain: process.env.AUTH0_DOMAIN,\r\n    clientId: process.env.AUTH0_CLIENT_ID,\r\n    clientSecret: process.env.AUTH0_SECRET,\r\n    audience: process.env.AUTH0_AUDIENCE,\r\n};\r\n\r\nexport const getManagementApi = () => new auth0.ManagementClient(config);\r\n\r\nexport const getAuthenticationApi = () => new auth0.AuthenticationClient(config);","import jwt from 'jsonwebtoken';\r\nimport { getKey } from './secret';\r\nimport { getManagementApi, getAuthenticationApi } from './api';\r\n\r\nexport const verifyAuthToken = token => new Promise(((resolve, reject) => {\r\n    jwt.verify(token, getKey, (err, decoded) => err || !decoded\r\n        ? reject(err)\r\n        : resolve({ ...decoded, id: decoded.sub || decoded.id }));\r\n}));\r\n\r\nexport const ManagementClient = getManagementApi();\r\nexport const AuthenticationClient = getAuthenticationApi();","import jwksClient from 'jwks-rsa';\r\n\r\nconst { JWKS_URI } = process.env;\r\n\r\nconst client = jwksClient({ jwksUri: String(JWKS_URI) });\r\n\r\nexport const getKey = (header, callback) => {\r\n    client.getSigningKey(header.kid, (err, key) => {\r\n        if (err) return callback(err);\r\n        const signingKey = key.getPublicKey();\r\n        callback(err, signingKey);\r\n    });\r\n};\r\n","import Model from \"../../user/model\";\nimport Service from '../service';\n\nconst Controller = {\n    get(conditions) {\n        return Model.get(conditions);\n    },\n    getById(id) {\n        return Model.getById(id);\n    },\n    create(data) {\n        return Model.create(data);\n    },\n    updateById(id, data) {\n        return Model.updateById(id, data);\n    },\n    deleteById(id) {\n        return Model.deleteById(id);\n    },\n    getStudentsFromTeacherAndCod(teacherId, cod) {\n        return Model.getStudentsByTeacherIdAndCod(teacherId, cod);\n    },\n    login(token) {\n        return Service().signIn(token);\n    }\n}\n\nexport default Controller;\n","import { ManagementClient, verifyAuthToken } from '../auth0';\r\nimport UserModel from '../../user/model';\r\n\r\nconst AuthService = () => ({\r\n    async signIn(providerToken) {\r\n        const { id, email, email_verified } = await verifyAuthToken(providerToken);\r\n        console.log(id)\r\n\r\n        const [user] = await UserModel.findOrCreate({auth0Id:id}, {email});\r\n\r\n        console.log(9)\r\n\r\n        return { user, verified: email_verified };\r\n    },\r\n    deleteUser(userProviderId) {\r\n        return ManagementClient.deleteUser({ id: userProviderId });\r\n    },\r\n});\r\n\r\nexport default AuthService;","import userRoutes from './user/adapters/http';\nimport userSockets from './user/adapters/socket';\nimport authRoutes from './auth/adapters/http';\n\nexport const Routes = (app) => {\n  userRoutes(app);\n  authRoutes(app);\n}\n\nexport const Sockets = (io, socket) => {\n  userSockets(io, socket);\n}","import express from 'express';\r\nimport Controller from '../../controller';\r\nimport { asyncHandler } from \"@Middlwares/error-handler\";\r\n// Para operaciones con acceso restringido, introduciremos un segundo parámetro que será la variable restrictedAccess\r\nimport restrictedAccess from \"@Middlwares/restricted-access\";\r\n\r\nconst router = express.Router();\r\n\r\n\r\n// GET ALL\r\nrouter.get('/', asyncHandler(async (req, res) => {\r\n    const data = await Controller.get();\r\n    res.send(data);\r\n}));\r\n\r\n// GET BY ID\r\nrouter.get('/:id', asyncHandler(async (req, res) => {\r\n    const { query: { id } } = req;\r\n    const data = await Controller.getById(id);\r\n    res.send(data);\r\n}));\r\n\r\n// GET BY EMAIL\r\nrouter.post('/getUserByEmail/', asyncHandler(async (req, res) => {\r\n    const { body: { email } } = req;\r\n    const [data] = await Controller.get()(email);\r\n    res.send(data);\r\n}));\r\n\r\n\r\n\r\n\r\n\r\n// CREATE\r\nrouter.post(\"/\", asyncHandler(async (req, res) => {\r\n    const { body: { email } } = req;\r\n    const user = await Model.create(email);\r\n    res.send(user);\r\n}));\r\n\r\n// DELETE\r\nrouter.delete(\"/:id\", asyncHandler(async (req, res) => {\r\n    const { params: { id } } = req;\r\n    await Model.remove(id);\r\n    res.send(`User id: ${id} deleted`);\r\n}));\r\n\r\n// TOTAL UPDATE\r\nrouter.put(\"/:id\", async (req, res) => {\r\n    const { params: { id }, body } = req;\r\n    await Model.update(id, body);\r\n    res.send(`User id: ${id} updated`);\r\n});\r\n\r\n\r\nexport default app => app.use('/user', router);\r\n","import { socketHandler } from '@Middlwares/error-handler';\r\nimport Controller from '../../controller';\r\n\r\nconst StartSocketServer = (io, socket) => {\r\n    socket.on('alguienTermino', socketHandler(async (msg) => {\r\n        io.emit('alguienTermino', msg);\r\n    }));\r\n\r\n    socket.on('addAlumnos', socketHandler(async (msg) => {\r\n        const data = await Controller.getAll();\r\n        console.log('aaaaaaaaaaaaaaaa', data);\r\n    }));\r\n};\r\n\r\nexport default StartSocketServer;\r\n","import Model from \"../model\";\n\nconst Controller = {\n  get(conditions) {\n    return Model.get(conditions);\n  },\n  getById(id) {\n    return Model.getById(id);\n  },\n  create(data) {\n    return Model.create(data);\n  },\n  updateById(id, data) {\n    return Model.updateById(id, data);\n  },\n  deleteById(id) {\n    return Model.deleteById(id);\n  }\n}\n\nexport default Controller;","import Schema from './schema';\nimport GenericModel from '@Application/repository/generic-model';\n\nconst Model = {\n    ...GenericModel(Schema),\n    getByEmail: email => Schema.findOne({ where: { email } }),\n};\n\nexport default Model;\n\n","import { db, DataTypes } from '@Application/database';\r\n\r\nexport default db.define('user', {\r\n\tauth0Id: DataTypes.STRING,\r\n\temail: DataTypes.STRING,\r\n});\r\n\r\n","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"auth0\");","module.exports = require(\"cors\");","module.exports = require(\"express\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"jwks-rsa\");","module.exports = require(\"sequelize\");","module.exports = require(\"socket.io\");","module.exports = require(\"swagger-jsdoc\");","module.exports = require(\"swagger-ui-express\");","module.exports = require(\"http\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from 'express';\nimport http from 'http';\nimport socketIO from 'socket.io';\nimport { config } from '@Application/config/sockets';\nimport Middlewares from './application/middlewares';\nimport { Routes, Sockets } from './entities';\nimport Documentation from './application/documentation';\nimport ConnectDatabase from './application/database';\n\nconst app = express();\n/*\nHeroku utiliza la variable de entorno process.env.port para asignar el puerto donde se va ejecutar el servidor,\npor eso la hemos definido en esta plantilla\n*/\nconst port = process.env.PORT;\nconst server = http.createServer(app);\nconst io = socketIO(server, config);\n\nDocumentation(app);\nMiddlewares(app, io);\nRoutes(app);\n\n\nConnectDatabase(() => {\n    server.listen(port, () => console.log(`Server listening to http://localhost:${port}`));\n});\n\nio.on('connection', (socket) => {\n    Sockets(io, socket);\n});"],"names":["jwt","secret","decodeToken","decode","createToken","data","sign","verifyToken","token","callback","verify","config","cors","origin","methods","credentials","allowEIO3","swaggerConfig","definition","openapi","info","title","version","components","securitySchemes","ApiKeyAuth","type","name","security","securityDefinitions","basicAuth","apis","Sequelize","DataTypes","database","process","env","DB_NAME","user","DB_USER","password","DB_PASSWORD","host","DB_HOST","forceCleanDatabase","DB_FORCE_CLEAN","db","dialect","setAssociations","Object","keys","models","forEach","modelName","associate","onConnect","authenticate","sync","force","console","log","swaggerJSDoc","swaggerUi","Documentation","app","swaggerSpec","use","serve","setup","asyncHandler","controller","req","res","next","Promise","resolve","err","error","toString","sendStatus","send","socketHandler","msg","express","withSockets","withHeaders","Middlewares","io","urlencoded","extended","json","getHeader","header","headers","status","id","userId","method","end","GenericModel","Model","create","get","conditions","findAll","where","getById","findOne","updateById","update","deleteById","destroy","findOrCreate","condition","newObj","defaults","Controller","restrictedAccess","router","Router","post","login","body","auth0","domain","AUTH0_DOMAIN","clientId","AUTH0_CLIENT_ID","clientSecret","AUTH0_SECRET","audience","AUTH0_AUDIENCE","getManagementApi","ManagementClient","getAuthenticationApi","AuthenticationClient","getKey","verifyAuthToken","reject","decoded","sub","jwksClient","JWKS_URI","client","jwksUri","String","getSigningKey","kid","key","signingKey","getPublicKey","Service","getStudentsFromTeacherAndCod","teacherId","cod","getStudentsByTeacherIdAndCod","signIn","UserModel","AuthService","providerToken","email","email_verified","auth0Id","verified","deleteUser","userProviderId","userRoutes","userSockets","authRoutes","Routes","Sockets","socket","query","params","remove","put","StartSocketServer","on","emit","getAll","Schema","getByEmail","define","STRING","http","socketIO","ConnectDatabase","port","PORT","server","createServer","listen"],"sourceRoot":""}